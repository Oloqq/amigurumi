<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="icon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Crocheteer</title>
    <style>
        * {
            margin: 0;
            font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        }

        #pattern-container {
            position: absolute;
        }

        #status {
            background-color: aliceblue;
            padding: 5px;
            max-width: 50vw;
        }

        #pattern {
            font-family: monospace;
            width: 20vw;
            height: 70vh;
        }

        #command-txt {
            display: inline-block;
            width: 300px;
        }
    </style>
</head>

<body>
    <div id="container">
        <div id="pattern-container">
            <p id="status">Visualize your pattern:</p>
            <textarea id="pattern"># Manual
# This is a comment.
# Comments can take a whole line or can be placed after the instruction.
# You can load an example by typing a name in the input below,
# then clicking "Load example:".
# Current examples: pillar, bigpillar, ball, bigball, vase.

# Simulation controls:
# - after the pattern is loaded, you have to unpause the simulation
# - pause it again at any convenient time
# - if the plushie is wrinkled (has not enough stuffing),
#   - increase the number of centroids under "Centroid stuffing config/amount"
#   - add up to 2 then run the simulation for a second
#   - otherwise the simulation may glitch irrecoverably
# - I do not recommend playing with gravity at the moment

# Camera:
# left click + drag: rotate
# right click + drag: translate
# scroll wheel/middle click: zoom
# there's also a button to reset camera to the starting point

# The following syntax let's you set parameters of the simulation inside the pattern
# For example this sets the centroid number
@centroids = 6

# This is a sample pattern
# Keep in mind, if you reload the page, changes are lost

# Pattern must start with a magic ring (MR(x)) or a chain (Ch(x)) of x stitches.
# Notice that the syntax does not include ':'.
MR(4)

# Pattern is worked in rounds, one round per line.
R2: sc, inc, sc, inc (6)
# ':' denotes start of the round, there is no need to specify round numbers.
: 6 sc (6)

# If you wish to label your rounds, they have to be labeled with 'R' + number
R4: 6 sc (6)
# Putting just a number at the front means "repeat this round X times"
2: 6 sc (6) # repeated rounds are denoted with a number
# You can also specify round repetition with round numbers:
R2-R3: 6 sc (6)

: [sc, inc] x 2, 2 sc (8) # subpatterns are supported
: [inc, [sc,] x 3,] x 2 (10) # but nested subpatterns have some issues so comma before closing bracket is mandatory when nesting
R6: dec, 3 sc, [,[inc] x 2,] x 1, 3 sc (11) # similarly, two opening brackets have to be separated, I'll fix it one day
R7: dec, 4 sc, inc, inc, 3 sc (12)
R8: dec, 4 sc, inc, inc, 2 sc, dec (12)
R9: 5 sc, inc, 2 sc, inc, 3 sc (14)
R10: 7 sc, inc, inc, 5 sc (16)
R11: 8 sc, inc, inc, 6 sc (18)
R12: 8 sc, inc, 2 sc, inc, 6 sc (20)
R13: 10 sc, 4 inc, 6 sc (24)
R14: 10 sc, inc, 1 sc, inc, 1 sc, inc, 1 sc, inc, 1 sc, 6 sc (28)
R15: 10 sc, 2 sc, inc, 2 sc, inc, 2 sc, inc, 2 sc, inc, 6 sc (32)
R16-R18: 32 sc (32)
R19: 10 sc, inc, 3 sc, inc, 3 sc, inc, 3 sc, inc, 3 sc, 6 sc (36)
R20: 36 sc (36)
R21: 10 sc, 4 sc, inc, 4 sc, inc, 4 sc, inc, 4 sc, inc, 6 sc (40)
R22: 40 sc (40)
R23: 10 sc, inc, 5 sc, inc, 5 sc, inc, 5 sc, inc, 5 sc, 6 sc (44)
3: 44 sc (44)
R27: 22 dec (22)
R28: 11 dec (11)
# Fasten off to close the shape
FO
</textarea><br>
            <button id="update-btn">Update</button>
            <button id="soft-update-btn">Soft update</button>
            <br>
            <button id="example-btn">Load example:</button><input id="example-txt" type="text"><br>
            <button id="command-btn">Command:</button><input id="command-txt" type="text">
        </div>
    </div>
    <script type="module" src="/script/main.js"></script>
</body>

</html>