<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="icon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Crocheteer</title>
    <style>
        * {
            margin: 0;
            font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        }

        #pattern-container {
            position: absolute;
        }

        #status {
            background-color: aliceblue;
            padding: 5px;
            max-width: 50vw;
        }

        #pattern {
            font-family: monospace;
            width: 20vw;
            height: 70vh;
        }

        #command-txt {
            display: inline-block;
            width: 300px;
        }
    </style>
</head>

<body>
    <div id="container">
        <div id="pattern-container">
            <p id="status">Visualize your pattern:</p>
            <textarea id="pattern"># Manual

# Write the pattern to be visualized in this textarea.
# Everything after '#' is a comment, comments do not affect the pattern.
# Comments can take a whole line or can be placed after the instruction.

# Simulation controls:
# - after the pattern is loaded, you have to unpause the simulation
# - pause it again at any convenient time
# - for performance, links between stitches are shown only when simulation is paused
# - if the plushie is wrinkled (has not enough stuffing),
#   - increase the number of centroids under "Centroid stuffing config/amount"

# Camera:
# left click + drag: rotate
# right click + drag: translate
# scroll wheel/middle click: zoom
# there's also a button to reset camera to the starting point

# The following syntax lets you set parameters of the simulation.
@centroids = 2
# This one sets the amount of centroids (rougly equivalent to stuffing amount).
# Each parameter can only be set once per pattern.

# This is a sample pattern, creating a mushroom.
# Keep in mind, if you reload the page, changes are lost.

# Pattern must start with a magic ring (MR(x)) or a chain (Ch(x)) of x stitches.
MR(6) # Notice that a magic ring is not considered a round, so the syntax does not include ':'.

# A round takes a single line of the file
# It starts with round number ('R1:'),
# followed by list of stitches ('6 inc')
# and number of stitches produced in the round ('(12)')
R1: 6 inc (12)

# Round number is actually optional, only the colon matters.
# Number of stitches produced is optional as well.
: 12 sc

# Round repetition is denoted with a number before the colon.
# 'R2' means 'second round', '2' means 'repeat this round twice'.
# '2' here could also be replaced with 'R3-R4' if you're numbering rounds.
2: 12 sc (12)

# 'mark' and 'goto' functions allow you to switch working position.
# They take a label as an argument, so that you can mark several positions.
# The label can't contain spaces.
# Functions can be used outside of rounds.
mark(cap_start)

# 'BLO' and 'FLO' is another pair of functions that makes the hook work on Back Loop Only / Front Loop Only.
# Functions generally can be placed inside rounds, with the exception of 'MR' and 'FO', just be careful with repetitions when you have functions in a round.
: BLO, 6 dec (6)
# The hook will automatically switch to working on both loops at the next round start.
# You can also do this switch mid-round with function 'BL'

# Fasten off. Placing a round right after fasten off is an error.
FO

# Functions can be placed one after another, even when they are outside of rounds.
# 'goto' switches the working position to the place where 'mark(cap_start)' was used.
# 'color' sets yarn color. It takes 3 arguments denoting RGB value of the color.
# This can be used for final colors of the creation,
# but also to mark a significant spot when designing.
goto(cap_start), color(255, 255, 0)
: FLO, 12 inc (24)
2: 24 sc (24)
# 'subpatterns' consist of stitches inside brackets followed by 'x' and number of repetitions
: [dec, sc] x 8 (18)
: [dec, sc] x 6 (12)
: 6 dec (6)
FO
</textarea><br>
            <button id="update-btn">Update</button>
            <button id="soft-update-btn">Soft update</button>
            <br>
            <button id="example-btn">Load example:</button><input id="example-txt" type="text"><br>
            <button id="command-btn">Command:</button><input id="command-txt" type="text">
        </div>
    </div>
    <script type="module" src="/script/main.js"></script>
</body>

</html>